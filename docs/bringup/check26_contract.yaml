{
  "version": "v0.3-strict-check26",
  "source_file": "docs/architecture/v0.3-architecture-contract.md",
  "canonical_paths": [
    "spec/isa/golden/v0.3/opcodes/lx_32.opc",
    "spec/isa/golden/v0.3/state/memory_model.json",
    "docs/architecture/isa-manual/src/chapters/02_programming_model.adoc",
    "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc",
    "docs/architecture/isa-manual/src/chapters/08_memory_operations.adoc",
    "docs/architecture/isa-manual/src/chapters/09_system_and_privilege.adoc"
  ],
  "checks": [
    { "id": 1, "source_line": 5, "title": "Block-structured ISA and two-layer state model", "clauses": ["ISA is block-structured", "Architectural state has first-layer global state and second-layer local block state"], "owners": ["docs/architecture/isa-manual/src/chapters/02_programming_model.adoc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tools/bringup/check26_contract.py"], "patterns": ["block-structured"] },
    { "id": 2, "source_line": 9, "title": "GSTATE composition", "clauses": ["Global layer exposes 24 GPRs", "Global layer exposes 32 tile registers", "Global layer exposes SSR state"], "owners": ["docs/architecture/isa-manual/src/chapters/02_programming_model.adoc", "spec/isa/golden/v0.3/state/system_registers.json"], "tests": ["tools/bringup/check26_contract.py"], "patterns": ["24 GPR", "32 architectural tile"] },
    { "id": 3, "source_line": 14, "title": "BSTATE composition", "clauses": ["BSTATE is block-type dependent", "Scalar/vector/template local states are architecturally defined"], "owners": ["docs/architecture/isa-manual/src/chapters/02_programming_model.adoc", "docs/architecture/isa-manual/src/chapters/09_system_and_privilege.adoc"], "tests": ["tools/bringup/check26_contract.py"], "patterns": ["BSTATE"] },
    { "id": 4, "source_line": 34, "title": "Template save/restore", "clauses": ["ESAVE saves second-layer state for recovery", "ERCOV restores second-layer state from saved context"], "owners": ["spec/isa/golden/v0.3/opcodes/lx_32.opc", "docs/architecture/isa-manual/src/chapters/06_templates.adoc"], "tests": ["tests/qemu/tests/11_system.c", "tools/bringup/check26_contract.py"], "patterns": ["ESAVE", "ERCOV"] },
    { "id": 5, "source_line": 37, "title": "Machine model BCC + heterogeneous PEs", "clauses": ["BCC schedules block commands", "PEs share first-layer architectural state and own second-layer local state"], "owners": ["docs/architecture/isa-manual/src/chapters/02_programming_model.adoc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tools/bringup/check26_contract.py"], "patterns": ["BCC"] },
    { "id": 6, "source_line": 44, "title": "All computation in blocks", "clauses": ["No architectural instructions outside blocks", "Empty blocks are legal"], "owners": ["docs/architecture/isa-manual/src/chapters/04_block_isa.adoc", "qemu/target/linx/translate.c"], "tests": ["tests/qemu/tests/11_system.c", "tools/bringup/check26_contract.py"], "patterns": ["empty block"] },
    { "id": 7, "source_line": 51, "title": "Commit-time control-flow visibility", "clauses": ["Block computes next target during execution", "Program counter updates at block commit"], "owners": ["docs/architecture/isa-manual/src/chapters/04_block_isa.adoc", "qemu/target/linx/translate.c"], "tests": ["tests/qemu/tests/11_system.c", "tools/bringup/check26_contract.py"], "patterns": ["block commit"] },
    { "id": 8, "source_line": 54, "title": "Boundary-only branch target safety", "clauses": ["Control-flow targets must land on block boundaries", "Mid-block targets trap as illegal control flow"], "owners": ["docs/architecture/isa-manual/src/chapters/04_block_isa.adoc", "qemu/target/linx/cpu.h"], "tests": ["tests/qemu/tests/11_system.c", "tools/bringup/check26_contract.py"], "patterns": ["control-flow integrity", "block boundary"] },
    { "id": 9, "source_line": 60, "title": "Block boundary instruction set", "clauses": ["BSTART/C.BSTART start a block", "BSTOP/C.BSTOP terminate a block", "BWE/BWI, ACRC/ACRE/EBREAK are boundary events"], "owners": ["spec/isa/golden/v0.3/opcodes/lx_32.opc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tests/qemu/tests/11_system.c", "tools/bringup/check26_contract.py"], "patterns": ["BWE", "BWI", "ACRC", "ACRE", "EBREAK"] },
    { "id": 10, "source_line": 69, "title": "Header descriptor semantics", "clauses": ["B.ARG/B.ATTR/B.IOR/B.IOT are normative descriptors", "B.IOD is obsolete compatibility descriptor"], "owners": ["spec/isa/golden/v0.3/opcodes/lx_32.opc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tests/qemu/tests/11_system.c", "tools/bringup/check26_contract.py"], "patterns": ["B.ARG", "B.ATTR", "B.IOR", "B.IOT", "B.IOD"] },
    { "id": 11, "source_line": 78, "title": "OoO issue with in-order block retirement", "clauses": ["Issue may be out of order", "Retirement must be in program order via block reorder buffer"], "owners": ["docs/architecture/isa-manual/src/chapters/04_block_isa.adoc", "docs/architecture/isa-manual/src/chapters/02_programming_model.adoc"], "tests": ["tools/bringup/check26_contract.py"], "patterns": ["block reorder buffer"] },
    { "id": 12, "source_line": 87, "title": "Variable-length block-instruction interpretation", "clauses": ["Block can be interpreted as variable-length macro instruction", "T/U internal queues follow constrained producer-consumer flow"], "owners": ["docs/architecture/isa-manual/src/chapters/04_block_isa.adoc", "docs/architecture/isa-manual/src/chapters/02_programming_model.adoc"], "tests": ["tools/bringup/check26_contract.py"], "patterns": ["variable length"] },
    { "id": 13, "source_line": 112, "title": "Coupled vs decoupled blocks", "clauses": ["Decoupled headers use B.TEXT body pointer", "Header/body execution context is architecturally separated"], "owners": ["docs/architecture/isa-manual/src/chapters/04_block_isa.adoc", "spec/isa/golden/v0.3/opcodes/lx_32.opc"], "tests": ["tests/qemu/tests/11_system.c", "tools/bringup/check26_contract.py"], "patterns": ["B.TEXT"] },
    { "id": 14, "source_line": 131, "title": "Template body generation models", "clauses": ["Template execution model may be ROM/FSM/engine based", "Template behavior must remain architecturally equivalent"], "owners": ["docs/architecture/isa-manual/src/chapters/06_templates.adoc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tools/bringup/check26_contract.py"], "patterns": ["template"] },
    { "id": 15, "source_line": 140, "title": "TEPL extension and FP hint semantics", "clauses": ["BSTART.TEPL provides generic accelerator block type", "BSTART.FP is a hint-only block typing mechanism for mixed scalar/FP"], "owners": ["spec/isa/golden/v0.3/opcodes/lx_32.opc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tests/qemu/tests/11_system.c", "tools/bringup/check26_contract.py"], "patterns": ["BSTART.TEPL", "BSTART.FP"] },
    { "id": 16, "source_line": 170, "title": "MSEQ vector semantics", "clauses": ["Vector body expresses one-lane semantics", "DIM controls repeated execution and ordered commit"], "owners": ["spec/isa/golden/v0.3/opcodes/lx_32.opc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tests/qemu/tests/12_v03_vector_tile.c", "tools/bringup/check26_contract.py"], "patterns": ["BSTART.MSEQ"] },
    { "id": 17, "source_line": 202, "title": "MPAR parallel semantics", "clauses": ["MPAR executes lanes in parallel", "MPAR semantics differ from MSEQ commit behavior"], "owners": ["spec/isa/golden/v0.3/opcodes/lx_32.opc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tests/qemu/tests/12_v03_vector_tile.c", "tools/bringup/check26_contract.py"], "patterns": ["BSTART.MPAR"] },
    { "id": 18, "source_line": 218, "title": "VPAR/VSEQ tile-only vector semantics", "clauses": ["VPAR/VSEQ do not directly access main memory", "VPAR/VSEQ may execute speculatively"], "owners": ["spec/isa/golden/v0.3/opcodes/lx_32.opc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tests/qemu/tests/12_v03_vector_tile.c", "tools/bringup/check26_contract.py"], "patterns": ["BSTART.VPAR", "BSTART.VSEQ"] },
    { "id": 19, "source_line": 230, "title": "Tile architectural bounds", "clauses": ["Architectural tile count is 32", "Tile size min=512B max=4KB", "Architectural capacity is 128KB and tile renaming is allowed"], "owners": ["docs/architecture/isa-manual/src/chapters/02_programming_model.adoc", "spec/isa/golden/v0.3/state/memory_model.json"], "tests": ["tests/qemu/tests/12_v03_vector_tile.c", "tools/bringup/check26_contract.py"], "patterns": ["512B", "4KB", "128KB"] },
    { "id": 20, "source_line": 242, "title": "Clockhand allocation invariants", "clauses": ["Compiler must preserve relative tile distance across control-flow joins", "When not provable, compiler must spill/reload"], "owners": ["llvm/lib/Target/LinxISA/LinxISABlockify.cpp", "llvm/lib/Target/LinxISA/LinxISAInstrInfo.cpp"], "tests": ["llvm/test/CodeGen/LinxISA", "tools/bringup/check26_contract.py"], "patterns": ["clockhand"] },
    { "id": 21, "source_line": 246, "title": "First-layer block-command packing", "clauses": ["Header descriptors pack block command fields", "BSTOP dispatches block command to selected PE"], "owners": ["docs/architecture/isa-manual/src/chapters/04_block_isa.adoc", "qemu/target/linx/translate.c"], "tests": ["tests/qemu/tests/12_v03_vector_tile.c", "tools/bringup/check26_contract.py"], "patterns": ["block command"] },
    { "id": 22, "source_line": 257, "title": "Second-layer consume/execute/resolve contract", "clauses": ["PE executes only with valid block command", "PE returns liveouts/status to BROB for in-order resolve"], "owners": ["docs/architecture/isa-manual/src/chapters/04_block_isa.adoc", "qemu/target/linx/helper.c"], "tests": ["tests/qemu/tests/12_v03_vector_tile.c", "tools/bringup/check26_contract.py"], "patterns": ["BROB"] },
    { "id": 23, "source_line": 276, "title": "TSO memory model and vector-memory separation", "clauses": ["Vector PE has no direct main-memory access", "Scalar pipe and TMA perform memory accesses", "Ordering model is architectural TSO"], "owners": ["spec/isa/golden/v0.3/state/memory_model.json", "docs/architecture/isa-manual/src/chapters/08_memory_operations.adoc"], "tests": ["tests/qemu/tests/12_v03_vector_tile.c", "tools/bringup/check26_contract.py"], "patterns": ["TSO", "scalar", "TLOAD", "TSTORE"] },
    { "id": 24, "source_line": 281, "title": "Shared MMU/TLB and restartable ranged tile faults", "clauses": ["Scalar and tile accesses share MMU/TLB path", "TLOAD/TSTORE faults are restartable"], "owners": ["docs/architecture/isa-manual/src/chapters/08_memory_operations.adoc", "docs/architecture/isa-manual/src/chapters/09_system_and_privilege.adoc"], "tests": ["tests/qemu/tests/11_system.c", "tools/bringup/check26_contract.py"], "patterns": ["restartable", "MMU", "TLB"] },
    { "id": 25, "source_line": 285, "title": "Bridged memory path for MSEQ/MPAR", "clauses": ["MSEQ/MPAR memory flow is bridged through tile/TMA path", "Barriers constrain conflicts between bridged memory actions"], "owners": ["docs/architecture/isa-manual/src/chapters/04_block_isa.adoc", "docs/architecture/isa-manual/src/chapters/08_memory_operations.adoc"], "tests": ["tests/qemu/tests/12_v03_vector_tile.c", "tools/bringup/check26_contract.py"], "patterns": ["MSEQ", "MPAR", "barrier"] },
    { "id": 26, "source_line": 295, "title": "Vector bridge naming and operand namespaces", "clauses": ["Vector bridge loads/stores use load.local/store.local and load.brg/store.brg", "Vector body uses ri0..rin argument namespace", "Vector body uses TA/TB as inputs and TO/TS as output/scratch bases", "Vector blocks may mix scalar and vector instructions"], "owners": ["spec/isa/golden/v0.3/opcodes/lx_32.opc", "docs/architecture/isa-manual/src/chapters/04_block_isa.adoc"], "tests": ["tests/qemu/tests/12_v03_vector_tile.c", "tools/bringup/check26_contract.py"], "patterns": ["load.local", "store.local", "load.brg", "store.brg", "ri0", "TA", "TB", "TO", "TS"] }
  ]
}
